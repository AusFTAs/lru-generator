<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | lru-generator</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Least recently used cached generator"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="lru-generator"><meta property="twitter:description" content="Least recently used cached generator"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/nahidakbar/lru-generator"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#src">src</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-generator">generator</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="lru-generator">lru-generator</h1><p><a href="https://github.com/nahidakbar/lru-generator"><img src="https://nahidakbar.github.io/lru-generator/coverage/public.svg" alt="SCM"></a>
<a href="https://travis-ci.org/nahidakbar/lru-generator"><img src="https://travis-ci.org/nahidakbar/lru-generator.svg?branch=master" alt="Build Status"></a>
<a href="https://nahidakbar.github.io/lru-generator/"><img src="https://nahidakbar.github.io/lru-generator/badge.svg" alt="Documentation"></a>
<a href="https://nahidakbar.github.io/lru-generator/coverage/"><img src="https://nahidakbar.github.io/lru-generator/coverage/lines.svg" alt="Coverage"></a>
<a href="https://nahidakbar.github.io/lru-generator/coverage/"><img src="https://nahidakbar.github.io/lru-generator/coverage/functions.svg" alt="Coverage"></a>
<a href="https://nahidakbar.github.io/lru-generator/coverage/"><img src="https://nahidakbar.github.io/lru-generator/coverage/branches.svg" alt="Coverage"></a>
<a href="https://nahidakbar.github.io/lru-generator/coverage/"><img src="https://nahidakbar.github.io/lru-generator/coverage/statements.svg" alt="Coverage"></a></p>
<p>Least Recently Used Cache using generator.</p>
<h2 id="tl-dr">TL;DR</h2><pre><code><code class="source-code prettyprint">// sync

var generate_callback = function(key) {...} ; // something expensive to generate
var limit = 2; // say we are only caching 2 items
var generate = require(&apos;lru-generator&apos;)(limit, generate_callback)
...
generate(key1); // calls generate_callback(key1)
generate(key2); // calls generate_callback(key2)
generate(key3); // calls generate_callback(key3)
generate(key2); // returns previous results which is still in cache
generate(key1); // calls generate_callback(key1) as it is no longer in cache

// misc

generate.isCached(key);

generate.getCached(key);

generate.cache(key, value);

generate.purge(key, value);</code>
</code></pre><h2 id="complexity">Complexity</h2><p>Whatever complexity your JS engine has for accessing object properties.</p>
<h2 id="asynchronous">Asynchronous</h2><p>I was going to write async functionality but then I realised that it
is not really needed for modern asynchronous programming.
You can just have a an async generator function or can just return
a promise from generator function.
This will allow you to await or .then the return value.
There is no need to add yet another level of indirection.</p>
<p>Current generate.async is more for you if you want old style callbacks for
generator function and want to be called back with generated value.
This is deprecated. Just keep things simple by using modern async/await.</p>
<pre><code><code class="source-code prettyprint">// async

var generate_callback = function(key, callback) { ... callback(value) ... }; //
var generate = require(&apos;lru-generator&apos;)(limit, generate_callback, {async: true});

generate.sync(key, [custom_generate_callback]);

generate.async(key, callback, [custom_generate_callback]);

// generate(...) has the same signature as generate.sync or generate.async based on setting</code>
</code></pre></div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
